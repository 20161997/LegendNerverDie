@model LND.Web.Models.ContactDetailViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/layouts.cshtml";
}
<style>
    #map {
        height: 600px; 
        width: 100%;
       
    }
</style>

<div>
    <div style=" float: left; width: 70%; padding-left: 20px;padding-top:50px; height: 700px;box-sizing: border-box;">
        <div id="map"></div>
    </div>
    <div style=" float: left; width: 30%; padding-left: 20px;padding-top:50px; height: 700px;box-sizing: border-box;">
        <h3>Thông tin liên hệ</h3>
        <address class="address">
            <p>@Model.Address</p>
            <dl>
                <dt> </dt>
                <dd>Điện thoại:<span> @Model.Phone</span></dd>
                <dd>E-mail:&nbsp; <a href="mailto:@(Model.Email)">@(Model.Email)</a></dd>
            </dl>
        </address>
        <div class="clearfix"></div>

    </div>
</div>
<script>

    var map, infoWindow;
    function initMap() {
      @*map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: @(Model.Latitude), lng: @(Model.Longitude)},
        zoom: 10
        });*@       
           var mapProp= {
                  center:new google.maps.LatLng(@(Model.Latitude),@(Model.Longitude)),
               zoom: 15,
               mapTypeId: google.maps.MapTypeId.HYBRID,
                   };
          var map = new google.maps.Map(document.getElementById("map"),mapProp);                  
        var marker = new google.maps.Marker({
            position: mapProp.center,
            animation: google.maps.Animation.BOUNCE,            
          
        });
      marker.setMap(map);
      infoWindow = new google.maps.InfoWindow;
        
      // Try HTML5 geolocation.
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          var pos = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
            };
            //ads
            var marker1 = new google.maps.Marker({
                position: pos,
                animation: google.maps.Animation.BOUNCE,
                 mapTypeId: google.maps.MapTypeId.HYBRID
            });
            marker1.setMap(map);
            //asdd
          infoWindow.setPosition(pos);
            infoWindow.setContent('Vị trí của bạn ');

            infoWindow.open(map);
            map.setCenter(pos);


        }, function() {
          handleLocationError(true, infoWindow, map.getCenter());
        });
      } else {
        // Browser doesn't support Geolocation
        handleLocationError(false, infoWindow, map.getCenter());
      }
    }
    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
      infoWindow.setPosition(pos);
      infoWindow.setContent(browserHasGeolocation ?
                            'Error: Khong the lay vi tri' :
                            'Error: Trinh duyet khong ho tro.');
      infoWindow.open(map);
        }
    </script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBZV5xGOjrJE9A9OX53HuzwLYYP25MK8xI&callback=initMap">
</script>
